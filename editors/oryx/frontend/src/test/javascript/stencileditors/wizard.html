<html>
<head>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Ext.ux.Wiz - SimpleWizard</title>

    <link rel="stylesheet" type="text/css" href="/oryx/lib/ext-2.0.2/resources/css/ext-all.css"/>

    <!-- GC -->
    <!-- LIBS -->
    <script type="text/javascript" src="/oryx/lib/ext-2.0.2/adapter/ext/ext-base.js"></script>
    <!-- ENDLIBS -->

    <script type="text/javascript" src="/oryx/lib/ext-2.0.2/ext-all.js"></script>

    <link rel="stylesheet" type="text/css" href="/oryx/lib/ext-2.0.2/ux/wiz/resources/wiz.css"/>
    <script type="text/javascript" src="/oryx/lib/ext-2.0.2/ux/wiz/wiz-all-debug.js"></script>
</head>

<body>
<script type="text/javascript">


    Ext.onReady(function () {

        Ext.QuickTips.init();

        var wizard = new Ext.ux.Wiz({

            title: 'A simple example for a wizard',

            headerConfig: {
                title: 'Simple Wizard Example'
            },

            cardPanelConfig: {
                defaults: {
                    baseCls: 'x-small-editor',
                    bodyStyle: 'padding:40px 15px 5px 120px;background-color:#F6F6F6;',
                    border: false
                }
            },

            cards: [
                // second card with input fields last/firstname
                new Ext.ux.Wiz.Card({
                    title: 'Your name',
                    monitorValid: true,
                    defaults: {
                        labelStyle: 'font-size:11px'
                    },
                    items: [
                        new Ext.form.ComboBox({
                            store: new Ext.data.Store({
                                proxy: new Ext.data.ScriptTagProxy({
                                    url: 'http://localhost:8082/etlmdmrepo/refdata?call=list&type=databasetype&userId=test'
                                }),
                                reader: new Ext.data.JsonReader({
                                    root: 'types',
                                    totalProperty: 'totalCount',
                                    id: 'id'
                                }, [
                                    {name: 'id', mapping: 'id'},
                                    {name: 'code', mapping: 'code'},
                                    {name: 'description', mapping: 'description'}
                                ])
                            }),
                            displayField:'description',
                            typeAhead: false,
                            loadingText: 'Searching...',
                            width: 570,
                            pageSize:10,
                            hideTrigger:true,
                            tpl: new Ext.XTemplate(
                                    '<tpl for="."><div class="search-item">',
                                    '<h3><span>{code}</h3>',
                                    '{description}',
                                    '</div></tpl>'),
                            onSelect: function(record){ // override default onSelect to do redirect
                                //window.location = String.format('http://extjs.com/forum/showthread.php?t={0}&p={1}', record.data.topicId, record.id);
                            }
                        })
                    ]
                }),

                // third card with input field email-address
                new Ext.ux.Wiz.Card({
                    title: 'Your email-address',
                    monitorValid: true,
                    defaults: {
                        labelStyle: 'font-size:11px'
                    },
                    items: [
                        {
                            border: false,
                            bodyStyle: 'background:none;padding-bottom:30px;',
                            html: ' Please enter your email-address.'
                        },
                        new Ext.form.TextField({
                            name: 'email',
                            fieldLabel: 'Email-Address',
                            allowBlank: false,
                            vtype: 'email'
                        })
                    ]
                }),

                // fourth card with finish-message
                new Ext.ux.Wiz.Card({
                    title: 'Finished!',
                    monitorValid: true,
                    items: [
                        {
                            border: false,
                            bodyStyle: 'background:none;',
                            html: 'Thank you for testing this wizard. Your data has been collected ' +
                                    'and can be accessed via a call to <pre><code>this.getWizardData</code></pre>' +
                                    'When you click on the "finish"-button, the "finish"-event will be fired.<br/>' +
                                    'If no attached listener for this event returns "false", this dialog will be ' +
                                    'closed. <br />(In this case, our listener will return false after a popup shows the data you just entered)'
                        }
                    ]
                })


            ]
        });

        // show the wizard
        wizard.show();
    });

</script>

</body>
</html>